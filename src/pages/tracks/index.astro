---
// This page diplays all track tags found in the sessions collection

import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
const allSessions = await getCollection('sessions');
const tracks = [
  ...new Set(allSessions.map((session) => session.data.tracks).flat()),
];
const pageTitle = 'Tag Index';
---

<BaseLayout pageTitle={pageTitle}>
  {
    (
      <div class='tags'>
        {tracks.map((track) => (
          <p class='tag'>
            <a href={`/tracks/${track}`}>{track}</a>
          </p>
        ))}
      </div>
    )
  }
</BaseLayout>
